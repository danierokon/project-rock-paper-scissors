<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<script>
			//roll a number, divided into 3 ranges
			function getComputerChoice() {
				let rng = Math.floor(Math.random() * 100);
				//console.log(rng);
				if (0 <= rng && rng < 34) {
					return "rock";
				} else if (34 <= rng && rng < 67) {
					return "paper";
				} else if (67 <= rng && rng <= 100) {
					return "scissors";
				}
			}

			// divided into 3 cases, tie/win/lose
			function playRound(playerSelection, computerSelection) {
				console.log(`You picked ${playerSelection} `);
				console.log(`Your opponent picked ${computerSelection}`);
				if (playerSelection === computerSelection) {
					console.log("A TIE!");
					return "TIE";
				} else if (
					(playerSelection === "rock" && computerSelection === "scissors") ||
					(playerSelection === "paper" && computerSelection === "rock") ||
					(playerSelection === "scissors" && computerSelection === "paper")
				) {
					console.log(`You win!`);
					return "WIN";
				} else if (
					(playerSelection === "rock" && computerSelection === "paper") ||
					(playerSelection === "paper" && computerSelection === "scissors") ||
					(playerSelection === "scissors" && computerSelection === "rock")
				) {
					console.log(`You lose!`);
					return "LOSE";
				}
			}
			//check if input is either rock/paper/scissors, stuck
			//in while loop until input is valid
			let playerSelection;
			function inputCheck(inputCheck = false) {
				while (inputCheck === false) {
					if (
						playerSelection === "rock" ||
						playerSelection === "paper" ||
						playerSelection === "scissors"
					) {
						return true;
					} else {
						alert("Only accept rock, paper or scissors as input!");
						playerSelection = prompt("rock paper or scissors?").toLowerCase();
					}
				}
			}
			//for loop for 5 rounds of games
			//record result returned by function playRound()
			//when for loop is done, display result
			function game() {
				let win = 0;
				let lose = 0;
				let tie = 0;
				for (let i = 0; i < 5; i++) {
					playerSelection = prompt("rock paper or scissors?").toLowerCase();
					inputCheck();

					const computerSelection = getComputerChoice();
					console.log(`Game ${i + 1}`);
					const result = playRound(playerSelection, computerSelection);
					if (result === "TIE") {
						tie += 1;
					} else if (result === "WIN") {
						win += 1;
					} else {
						lose += 1;
					}
				}
				console.log(
					`Final result : ${win} win(s), ${lose} loss(es), ${tie} tie(s), GG`
				);
			}

			game();
		</script>
	</body>
</html>
